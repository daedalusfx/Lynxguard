# 📌 GitHub Feature Issues – Lynxguard
---

## [FEAT] Feed Latency Detection

### 📌 توضیح
محاسبه تأخیر بین دریافت تیک از بروکر هدف و مرجع بر اساس فیلد `time_msc`. در صورت عبور از آستانه، هشدار صادر شود.

### 🎯 هدف
شناسایی فیدهای کند یا دارای تاخیر که باعث عدم اجرای دقیق سفارش‌ها می‌شوند.

### ✅ Acceptance Criteria
- مقایسه `time_msc` هر تیک بین بروکر هدف و مرجع
- تعریف آستانه قابل پیکربندی (مثلاً 200ms)
- ثبت هشدار با نوع "Feed Latency Anomaly"

### 🛠 Tech Suggestions
- استفاده از moment یا dayjs برای مقایسه timestampها
- ذخیره در MongoDB با severity مشخص

---

## [FEAT] Abnormal Spread Detection

### 📌 توضیح
محاسبه اسپرد در بروکر هدف و مقایسه با مرجع یا میانگین متحرک خود. در صورت جهش ناگهانی، ثبت هشدار.

### 🎯 هدف
جلوگیری از اجرای معامله در شرایط اسپرد غیرمنصفانه یا مشکوک.

### ✅ Acceptance Criteria
- محاسبه اسپرد به صورت `ask - bid` در هر تیک
- مقایسه با threshold یا deviation از moving average
- هشدار با عنوان "Abnormal Spread"

### 🛠 Tech Suggestions
- استفاده از window متحرک برای میانگین‌گیری
- Threshold قابل تنظیم در `.env` یا `config.js`

---

## [FEAT] Feed Freeze Detection

### 📌 توضیح
اگر برای بیش از X ثانیه تیکی از یک بروکر دریافت نشد، اعلام هشدار "Feed Freeze"

### 🎯 هدف
شناسایی قطعی یا فریز شدن داده زنده که منجر به ریسک بالا می‌شود.

### ✅ Acceptance Criteria
- تایمر عدم دریافت تیک در هر source
- ثبت هشدار اگر وقفه بیشتر از 5 ثانیه بود (در ساعات بازار)

### 🛠 Tech Suggestions
- تایمر سمت سرور per source
- بررسی زمان‌بندی آخرین تیک در سرور

---

## [FEAT] Alert Archive Page

### 📌 توضیح
صفحه‌ای جهت مرور هشدارهای ثبت‌شده بر اساس فیلترهای زمان، نوع، بروکر و نماد.

### 🎯 هدف
تحلیل جامع‌تر برای کاربران و مشاهده الگوهای تکراری

### ✅ Acceptance Criteria
- فیلتر براساس تاریخ، severity، بروکر، نماد
- قابلیت جستجو
- قابلیت export ساده (CSV)

### 🛠 Tech Suggestions
- استفاده از جدول قابل مرتب‌سازی در SvelteKit
- ارتباط با API `/alerts?filter=...`

---

## [FEAT] PDF Report Generator

### 📌 توضیح
تولید فایل PDF شامل جزئیات هشدار (قیمت، زمان، نمودار) از داخل مودال هشدار

### 🎯 هدف
ارسال مستندات برای مدیران یا استفاده حقوقی

### ✅ Acceptance Criteria
- دکمه "Export as PDF" در صفحه هشدار
- نمایش نمودار قیمت با اختلاف‌ها

### 🛠 Tech Suggestions
- استفاده از html2pdf.js یا jsPDF
- قالب HTML آماده از layout هشدار

---

## [FEAT] Broker Detail View

### 📌 توضیح
صفحه اختصاصی برای هر بروکر با آمار عملکرد، تعداد هشدارها، میانگین اسپرد، تأخیر و...

### 🎯 هدف
تحلیل کیفی بروکرها و مقایسه عملکرد در بازه‌های زمانی مختلف

### ✅ Acceptance Criteria
- نمودار میانگین اسپرد
- نمودار تاخیر در تیک
- جدول تخلفات

### 🛠 Tech Suggestions
- مسیر `/broker/[id]`
- فراخوانی داده‌ها از `/stats/broker/:id`

---

## [FEAT] Slippage Simulator

### 📌 توضیح
در شبیه‌ساز معاملات، تخمین بزنید اگر کاربر در بروکر هدف معامله باز می‌کرد، چقدر لغزش (slippage) تجربه می‌کرد.

### 🎯 هدف
آموزش عملی به کاربر درباره تاثیر قیمت‌های متفاوت بین بروکرها

### ✅ Acceptance Criteria
- مقایسه قیمت فعلی دو بروکر در زمان ثبت سفارش شبیه‌سازی
- نمایش اختلاف قیمت و slippage تخمینی

### 🛠 Tech Suggestions
- نمایش پیام در لحظه اجرای شبیه‌سازی: "لغزش Y پیپ در بروکر هدف"
- ذخیره اطلاعات جهت تحلیل بعدی

---

## [FEAT] Economic Calendar Widget

### 📌 توضیح
افزودن ویجت نمایش رویدادهای مهم اقتصادی روز در داشبورد

### 🎯 هدف
ربط هشدارها با زمان‌بندی اخبار حساس (مثلاً NFP یا CPI)

### ✅ Acceptance Criteria
- نمایش عنوان خبر، زمان، اهمیت، و ارز مرتبط
- به‌روزرسانی روزانه

### 🛠 Tech Suggestions
- استفاده از API رایگان مثل [Forex Factory](https://www.forexfactory.com/calendar) یا [Trading Economics]
- ذخیره کش‌شده روی سرور برای کاهش درخواست‌ها

---

## [FEAT] Critical Alert Notifications

### 📌 توضیح
ارسال نوتیفیکیشن مرورگر یا آلارم صوتی هنگام ثبت هشدار بحرانی

### 🎯 هدف
اطلاع‌رسانی فوری بدون نیاز به مانیتور کردن صفحه

### ✅ Acceptance Criteria
- پشتیبانی از `Notification API` مرورگر
- پخش صدای هشدار قابل خاموش/روشن شدن

### 🛠 Tech Suggestions
- استفاده از `navigator.notification` در SvelteKit
- گزینه در تنظیمات کاربر برای فعال/غیرفعال کردن

---
